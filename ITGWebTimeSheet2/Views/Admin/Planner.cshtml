@using ITGWebTimeSheet2.Models
@model IEnumerable<ITGWebTimeSheet2.Models.TaskManModule>
@{
    ViewBag.Title = "Planner";
    Layout = "~/Views/_LayoutInside.cshtml";
}

<div class="app-content">
    <div class="app-title">
        <div>
            <h1><i class="fa fa-tasks"></i> Planner - Add Task</h1>

        </div>
        <ul class="app-breadcrumb breadcrumb">
            <li class="breadcrumb-item"><i class="fa fa-home fa-lg"></i></li>
            <li class="breadcrumb-item"><a href="#">Planner</a></li>
        </ul>
    </div>



    <!--  New Design  -->


    <div class="row">
        <div class="col-md-12">
            <div class="tile">

                <div class="tile-body">





                    <div class="table-responsive2">
                        <table class="table table-hover table-bordered" id="taskmantable">
                            <thead style="background-color: #d9aa1d;color:white;" class="wrapper01">
                                <tr>

                                    <th style="background-color: white;border-top-color: white;border-bottom-color: white;border-left-color: white; width:30px">
                                        <a href="#" class="add_fields3" style="margin-top:25px;"><i class="fas fa-plus-circle"></i></a>
                                    </th>
                                    <th style="border: 1px solid #dee2e6;">
                                        <div style="float:left;">
                                            Customer
                                        </div>
                                        <div style="float:right;color:#148ebd; border: solid 1px black;">
                                            <i class="fas fa-sort-down fa-2x" style="margin-top: -10px;"></i>
                                        </div>


                                    </th>
                                    <th>
                                        <div style="float:left;">
                                            PR
                                        </div>
                                        <div style="float:right;color:#148ebd; border: solid 1px black;">
                                            <i class="fas fa-sort-down fa-2x" style="margin-top: -10px;"></i>
                                        </div>
                                    </th>
                                    <th>
                                        <div style="float:left;">
                                            Project
                                        </div>
                                        <div style="float:right;color:#148ebd; border: solid 1px black;">
                                            <i class="fas fa-sort-down fa-2x fdd" style="margin-top: -10px;"></i>
                                        </div>


                                    </th>
                                    <th>Task</th>
                                    <th>
                                        <div style="float:left;">
                                            Type
                                        </div>
                                        <div style="float:right;color:#148ebd; border: solid 1px black;">
                                            <i class="fas fa-sort-down fa-2x fdd" style="margin-top: -10px;"></i>
                                        </div>
                                    </th>
                                    <th>
                                        <div style="float:left;">
                                            Resource
                                        </div>
                                        <div style="float:right;color:#148ebd; border: solid 1px black;">
                                            <i class="fas fa-sort-down fa-2x fdd" style="margin-top: -10px;"></i>
                                        </div>
                                    </th>
                                    <th>
                                        <div style="float:left;">
                                            Rating
                                        </div>
                                        <div style="float:right;color:#148ebd; border: solid 1px black;">
                                            <i class="fas fa-sort-down fa-2x fdd" style="margin-top: -10px;"></i>
                                        </div>
                                    </th>

                                    <th>
                                        <div style="float:left;">
                                            Status
                                        </div>
                                        <div style="float:right;color:#148ebd; border: solid 1px black;">
                                            <i class="fas fa-sort-down fa-2x fdd" style="margin-top: -10px;"></i>
                                        </div>
                                    </th>

                                    <th>Start</th>
                                    <th>Finish</th>
                                    <th>Est</th>
                                    <th>Act</th>






                                </tr>

                            </thead>
                            <tbody id="wrapper4">

                                @foreach (var item in Model)
                                {

                                    <tr class="record" id="row_@Html.DisplayFor(modelItem => item.id)" >

                                        <td style="background-color: white;border-top-color: white;border-bottom-color: white;border-left-color: white;">
                                            <a href="#" id="toogle_@Html.DisplayFor(modelItem => item.id)" class="dplay" style="margin-top:25px;"><i id="drop_@Html.DisplayFor(modelItem => item.id)" class="fas fa-play"></i></a>

                                            <!--<a href="#" id="remove_@Html.DisplayFor(modelItem => item.id)" class="remove_field2" style="margin-top:25px;display:none"><i class="fas fa-minus-circle"></i></a> -->
                                            <a href="#" id="d_@Html.DisplayFor(modelItem => item.id)" style="display:none" class="down_arrow"><i class="fas fa-sort-down fa-2x" style="color:#5fac11;"></i></a>
                                        </td>
                                        <td style="border: 1px solid #dee2e6;" class="task_out" id="td_@Html.DisplayFor(modelItem => item.id)">
                                            <span id="custtask_@Html.DisplayFor(modelItem => item.id)" class="task_input2">

                                                @if (ViewData["CustomerList"] != null)
                                                {
                                                    foreach (var item1 in ViewData["CustomerList"] as IList<CustomersModule>)
                                                    {
                                                        if (item.cust == item1.id)
                                                        {
                                                            @:@item1.code
                                                        }
                                                    }
                                                }
                                            </span>
                                            <span id="selcust_@Html.DisplayFor(modelItem => item.id)" class="sel_cust">
                                                <select class="form-control savetask2" id="selectcust_@Html.DisplayFor(modelItem => item.id)">
                                                    @if (ViewData["CustomerList"] != null)
                                                    {
                                                        foreach (var item1 in ViewData["CustomerList"] as IList<CustomersModule>)
                                                        {
                                                            <option value="@item1.id">@item1.code</option>
                                                        }
                                                    }
                                                </select>
                                            </span>
                                        </td>
                                        <td>
                                            <span id="taskpr_@Html.DisplayFor(modelItem => item.id)" class="task_input2">@Html.DisplayFor(modelItem => item.pr) </span>
                                            <span id="selpr_@Html.DisplayFor(modelItem => item.id)" class="sel_pr" style=""> <select class="form-control savetask2" id="selectpr_@Html.DisplayFor(modelItem => item.id)"> <option value="0">PR</option> <option value="1">1</option> <option value="2">2</option> <option value="3">3</option> <option value="4">4</option> <option value="5">5</option> <option value="6">6</option> <option value="7">7</option> <option value="8">8</option> <option value="9">9</option> </select> </span>
                                        </td>
                                        <td>
                                            <span id="taskproj_@Html.DisplayFor(modelItem => item.id)" class="task_input2">
                                              
                                                @if (ViewData["ProjectList"] != null)
                                                {
                                                    foreach (var item1 in ViewData["ProjectList"] as IList<ProjectModule>)
                                                    {
                                                        if (item.proj == item1.id)
                                                        {
                                                            @:@item1.code
                                                        }
                                                        if (Convert.ToString(item.proj) == "0")
                                                        {
                                                            @:Please select
                                                             break;
                                                        }
                                                    }
                                                }
                                            </span>
                                            <span id="selproj_@Html.DisplayFor(modelItem => item.id)" class="sel_cust">
                                                <select class="form-control savetask2" id="selectproj_@Html.DisplayFor(modelItem => item.id)">
                                                    <option value="0">Select Project</option>
                                                    @if (ViewData["ProjectList"] != null)
                                                    {
                                                        foreach (var item1 in ViewData["ProjectList"] as IList<ProjectModule>)
                                                        {
                                                            <option value="@item1.id">@item1.code</option>
                                                        }
                                                    }
                                                </select>
                                            </span>


                                        </td>
                                        <td>
                                            <span id="descriptiontask1_@Html.DisplayFor(modelItem => item.id)" class="task_input2">@Html.DisplayFor(modelItem => item.description)</span>
                                            <span id="seldesc_@Html.DisplayFor(modelItem => item.id)" class="sel_cust">
                                                <textarea id="descriptiontask_@Html.DisplayFor(modelItem => item.id)" class="autoExpand form-control task_input" rows="1" data-min-rows="1" placeholder="description" name="description">@Html.DisplayFor(modelItem => item.description)</textarea>
                                             </span>
                                        </td>
                                        <td>
                                            <span id="taskdev_@Html.DisplayFor(modelItem => item.id)" class="task_input2">@Html.DisplayFor(modelItem => item.dev)</span>
                                            <span id="seldev_@Html.DisplayFor(modelItem => item.id)" class="sel_pr" style="display: none;">
                                                <select class="form-control savetask2" id="selectdev_@Html.DisplayFor(modelItem => item.id)">
                                                    <option value="0">Select</option>
                                                    <option value="Dev">Dev</option>
                                                    <option value="Rev">Rev</option>
                                                </select>
                                            </span>

                                        </td>
                                        <td>
                                            <span id="taskresc_@Html.DisplayFor(modelItem => item.id)" class="task_input2">

                                                @if (ViewData["StaffList"] != null)
                                                {
                                                    foreach (var item6 in ViewData["StaffList"] as IList<Staff>)
                                                    {
                                                        if (item.resource == item6.id)
                                                        {
                                                            @:@item6.alias
                                                            break;
                                                        }
                                                        if (Convert.ToString(item.resource) == "0")
                                                        {
                                                            @:Select
                                                             break;
                                                        }

                                                    }

                                                }

                                            </span>
                                            <span id="selresc_@Html.DisplayFor(modelItem => item.id)" class="sel_resc" style="display: none;">
                                                <select class="form-control savetask2" id="selectresc_@Html.DisplayFor(modelItem => item.id)">
                                                    <option value="0">Select</option>
                                                    @if (ViewData["StaffList"] != null)
                                                    {
                                                        foreach (var item2 in ViewData["StaffList"] as IList<Staff>)
                                                        {
                                                            <option value="@item2.id">@item2.alias</option>
                                                        }
                                                    }
                                                </select>
                                            </span>

                                        </td>
                                        <td><i class="fas fa-circle" color="#5fac11"></i></td>
                                        <td>
                                            <span id="taskstat_@Html.DisplayFor(modelItem => item.id)" class="task_input2">
                                                @Html.DisplayFor(modelItem => item.status)
                                            </span>
                                            <span id="selstat_@Html.DisplayFor(modelItem => item.id)" class="sel_stat" style="display: none;">
                                                <select class="form-control savetask2" id="selectstat_@Html.DisplayFor(modelItem => item.id)">
                                                    <option value="Please select">Please select</option>
                                                    <option value="Opened">Opened</option>
                                                    <option value="In Progress">In Progress</option>
                                                    <option value="Ready to close">Ready to close</option>
                                                    <option value="Issues">Issues</option>
                                                    <option value="Monitor">Monitor</option>
                                                    <option value="In Queue">In Queue</option>
                                                    <option value="Closed">Closed</option>
                                                </select>
                                            </span>
                                        </td>

                                        <td>
                                            <span id="taskstart_@Html.DisplayFor(modelItem => item.id)" class="task_input2">@Html.DisplayFor(modelItem => item.ddate) </span>
                                            <span id="selstart_@Html.DisplayFor(modelItem => item.id)" class="sel_stat" style="display: none;">
                                                <input id="starttask_@Html.DisplayFor(modelItem => item.id)" type="text" class="datepicker99" />
                                            </span>
                                          

                                        </td>
                                        <td></td>
                                        <td>
                                            <span id="taskest_@Html.DisplayFor(modelItem => item.id)" class="task_input2">@Html.DisplayFor(modelItem => item.esthours)</span>
                                            <span id="selest_@Html.DisplayFor(modelItem => item.id)" class="sel_cust" style="display: none;">

                                                <input id="esttask_@Html.DisplayFor(modelItem => item.id)" class="form-control task_input" type="text" value="@Html.DisplayFor(modelItem => item.esthours)" />
                                             </span>
                                        </td>
                                        <td>
                                            <span id="taskstat_@Html.DisplayFor(modelItem => item.id)" class="task_input2">@Html.DisplayFor(modelItem => item.acthours) </span>

                                        </td>
                                    </tr>
                                    <tr style="background-color:#dee2e6;" id="secondrow_@Html.DisplayFor(modelItem => item.id)" class="notShow hideall">
                                        <td style="background-color: white;border-top-color: white;border-bottom-color: white;border-left-color: white;">
                                            <a href="#" id="remove_@Html.DisplayFor(modelItem => item.id)" class="remove_field2" style="margin-top:25px;display:none;position:relative;top: 135px;"><i class="fas fa-minus-circle"></i></a>
                                        </td>
                                        <td colspan="12">
                                            <div class="row3">
                                                <div style="position:relative;height:150px;border:solid 1px; padding: 10px 10px 10px 10px; " class="w-29">
                                                    <div style="float:left;" class="w-100">
                                                        <div style="float:left">
                                                            Latest Status:<br />
                                                            
                                                        </div>
                                                        <div style="float:right">
                                                            Date:
                                                        </div>


                                                    </div>
                                                    <div style="position:absolute;bottom: 5px;font-size: 9px;right: 10px;">
                                                        <a href="#"><i class="fas fa-external-link-alt fa-2x"></i></a>
                                                    </div>
                                                </div>
                                                <div class="w-1">

                                                </div>
                                                <div style="background-color:white;position:relative;height:150px;border:solid 1px; padding: 10px 10px 10px 10px;" class="w-29">
                                                    <div style="float:left;" class="w-100">
                                                        <div style="float:left">
                                                            Note:<br />
                                                                 <span id="notetask_@Html.DisplayFor(modelItem => item.id)" class="task_input2">@Html.DisplayFor(modelItem => item.note)</span>
                                                            <span id="selnote_@Html.DisplayFor(modelItem => item.id)" class="sel_cust" style="display: none;">
                                                                <textarea id="notetask2_@Html.DisplayFor(modelItem => item.id)" class="autoExpand form-control task_input" rows="1" data-min-rows="1" placeholder="description" name="description">@Html.DisplayFor(modelItem => item.note)</textarea>
                                                            </span>
                                                        </div>
                                                        <div style="float:right">

                                                        </div>


                                                    </div>
                                                    <div style="position:absolute;bottom: 5px;font-size: 9px;right: 10px;">
                                                        <a href="#"><i class="fas fa-external-link-alt fa-2x"></i></a>
                                                    </div>
                                                </div>
                                                <div class="w-1">

                                                </div>
                                                <div style="position:relative;height:150px;border:solid 1px; padding: 10px 10px 10px 10px; " class="w-29">
                                                    <div style="float:left;" class="w-100">
                                                        <div style="float:left">
                                                            Discussion:<br />

                                                        </div>
                                                        <div style="float:right">
                                                            04/20/2020
                                                        </div>


                                                    </div>
                                                    <div style="position:absolute;bottom: 5px;font-size: 9px;right: 10px;">
                                                        <a href="#"><i class="fas fa-external-link-alt fa-2x"></i></a>
                                                    </div>
                                                </div>
                                                <div class="w-1">

                                                </div>

                                                <div class="w-10">
                                                    <button type="button" class="btn btn-primary w-100" style="margin-bottom:5px;">History / Notes</button>
                                                    <button type="button" class="btn btn-primary w-100" style="margin-bottom:5px;">Files</button>
                                                    <button type="button" class="btn btn-primary w-100" style="margin-bottom:5px;">Images</button>
                                                    <button type="button" class="btn btn-primary w-100">Audit</button>


                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                }

                                <tr>
                                    <td style="background-color: white;border-top-color: white;border-bottom-color: white;border-left-color: white;"></td>
                                    <td>&nbsp;&nbsp;</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td style="background-color: white;border-top-color: white;border-bottom-color: white;border-left-color: white;">
                                    <td>&nbsp;&nbsp;</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td style="background-color: white;border-top-color: white;border-bottom-color: white;border-left-color: white;">
                                    <td>&nbsp;&nbsp;</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td style="background-color: white;border-top-color: white;border-bottom-color: white;border-left-color: white;">
                                    <td>&nbsp;&nbsp;</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td style="background-color: white;border-top-color: white;border-bottom-color: white;border-left-color: white;">
                                    <td>&nbsp;&nbsp;</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>

                            </tbody>
                        </table> <!-- end of table responsive  bootstrap table-->
                        <div style="text-align:right">
                            <button type="button" class="btn btn-primary" style="background-color:#d9aa1d;border-color: #d9aa1d;">CSV</button>
                            <button type="button" class="btn btn-primary">Next</button>
                            <button type="button" class="btn btn-outline-info">1</button>
                            <button type="button" class="btn btn-primary">2</button>


                        </div>
                    </div> <!-- end of table responsive  bootstrap table-->
                </div>
            </div>
        </div>
    </div>

</div>  <!-- old main-->
